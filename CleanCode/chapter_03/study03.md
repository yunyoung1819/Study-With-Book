## Chapter 3. 함수


### 함수

- 어떤 프로그램이든 가장 기본적인 단위가 함수다.
- 이 장은 함수를 잘 만드는 법을 소개한다. 


### 작게 만들어라!

- 함수를 만드는 첫째 규칙은 '작게'다.
- 함수를 만드는 둘째 규칙은 '더 작게'다.


### 블록과 들여쓰기

- if 문/else 문/while 문 등에 들어가는 블록은 한 줄이어야 한다는 의미다.
- 대게 거기서 함수를 호출한다. 그러면 바깥을 감싸는 함수가 작아질 뿐 아니라, 블록 안에서 호출하는 함수 이름을 적절히 짓는다면, 코드를 이해하기도 쉬워진다.
- 이 말은 중첩 구조가 생길만큼 함수가 커져서는 안된다는 뜻이다.
- 함수에서 들여쓰기 수준은 1단이나 2단을 넘어서면 안된다.


### 한가지만 해라

- 함수는 한 가지를 해야 한다. 그 한 가지를 잘해야한다. 그 한 가지만을 해야한다. 
- - 여기서 한 가지는 추상화 수준을 말한다.
- 함수는 간단한 TO 문단으로 기술할 수 있다.

> TO RenderPageWithSetupsAndTeardowns, 페이지가 테스트 페이지인지 확인한 후 테스트 페이지라면 
설정 페이지와 해제 페이지를 넣는다. 테스트 페이지든 아니든 페이지를 HTML 로 렌더링한다.

- 지정된 함수 이름 아래에서 추상화 수준이 하나인 단계만 수행한다면 그 함수는 한 가지 작업만한다.


### 함수 당 추상화 수준은 하나로!

- 함수가 확실히 '한 가지' 작업만 하려면 함수 내 모든 문장의 추상화 수준이 동일해야한다.
- 한 함수 내에 추상화 수준을 섞으면 코드를 읽는 사람이 헷갈린다.

> 위에서 아래로 코드 읽기: 내려가기 규칙

- 코드는 위에서 아래로 이야기처럼 읽혀야 좋다.
- 한 함수 다음에는 추상화 수준이 한 단계 낮은 함수가 온다.
- 즉 위에서 아래로 프로그램을 읽으면 함수 추상화 수준이 한 번에 한 단계씩 낮아진다. 이것을 내려가기 규칙이라 부른다.
- 다르게 표현하면, 일련의 TO 문단을 읽듯이 프로그램이 읽혀야 한다는 의미다.


### switch 문

- case 분기가 단 두 개인 switch 문도 너무 길며, 단일 블록이나 함수를 선호한다.
- 하지만 각 switch문을 저차원 클래스에 숨기고 절대로 반복하지 않는 방법은 있다. 물론 다형성을 이용한다.


### 서술적인 이름을 사용하라

- 함수가 하는 일을 좀 더 잘 표현하면 좋은 이름이다.
- 워드의 원칙 : 코드를 읽으면서 짐작했던 기능을 각 루틴이 그대로 수행한다면 깨끗한 코드라 불러도 된다.
- 한 가지만 하는 작은 함수에 좋은 이름을 붙인다면 이런 원칙을 달성함에 있어 이미 절반은 성공했다.
- 함수가 작고 단순할수록 서술적인 이름을 고르기도 쉬워진다.
- 서술적인 이름을 사용하면 개발자 머릿속에서도 설계가 뚜렷해지므로 코드를 개선하기 쉬워진다.
- 이름을 붙일 때는 일관성이 있어야 한다. 모듈 내에서 함수 이름은 같은 문구, 명사, 동사를 사용한다.


### 함수 인수

- 함수에서 이상적인 인수 개수는 0개 (무항)다.
- 다음은 1개(단항)고, 다음은 2개(이항)다.
- 3개(삼항)는 가능한 피하는 편이 좋다.
- 4개 이상(다항)은 특별한 이유가 필요하다. 특별한 이유가 있어도 사용하면 안된다.

