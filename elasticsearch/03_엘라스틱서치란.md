# :book: ElasticSearch

## :pushpin: 엘라스틱서치 데이터베이스와 설치

### 엘라스틱서치

- 확장성이 뛰어난 오픈 소스 전체 텍스트 검색 및 분석 엔진
- 대량의 데이터를 신속하고 거의 실시간으로 저장, 검색 및 분석
- 일반적으로 복잡한 검색 기능과 요구 사항이 있는 응용 프로그램을 구동하는 기본 엔진 / 기술


### 사용 사례

- 고객이 판매하는 제품을 검색 할 수 있는 온라인 웹 스토어를 운영 
    - 이 경우 Elasticsearch를 사용하여 전체 제품 카탈로그 및 인벤토리를 저장하고 검색 및 자동 완성 제안을 제공

- 로그 또는 트랜잭센 데이터를 수집, 분석 및 조사하여 추세, 통계 요약 또는 예외를 탐지
    - 이 경우 Logstash (Elasticsearch / Logstash / Kibana 스택의 일부)를 사용하여 데이터를 수집, 집계 및 
    구문 분석 한 다음 Logstash에 이 데이터를 Elasticsearch에 제공
    - 데이터가 Elasticsearch에 저장되면 검색 및 집계를 실행하여 관심 있는 정보를 검색

- 가격에 정통한 고객이 "특정 전자 장치를 구입하는데 관심이 있으며 다음 달의 모든 공급 업체 가젯 가격이 X 이하로 떨어지면 알림을 받고 싶습니다"와
같은 규칙을 지정할 수 있는 가격 알림 플랫폼을 운영
    - 이 경우 공급 업체 가격을 긁어내어 Elasticsearch로 밀어 넣은 뒤
    - 역방향 검색 (Percolator) 기능을 사용하여 가격 변동을 고객 쿼리와 비교하고 일치 항목이 발견
    - 마지막으로 고객에게 알리미를 전송
    
- 분석 / 비즈니스 인텔리전스 요구 사항이 있으며 많은 데이터에 대해 신속하게 조사,분석,시각화 및 질의를 하고 싶습니다. (수억 또는 수십억 건의 레코드를 생각하십시오)
    - Elasticsearch를 활용해 데이터를 저장한 다음 Kibana를 사용하여 중요한 데이터를 시각화할 수 있는 사용자 정의 대시 보드를 작성
    - 또한 Elasticsearch 집게 기능을 사용하여 데이터에 대해 복잡한 비즈니스 인텔리전스 쿼리를 수행
    
    
### :seedling: Elasticsearch의 핵심 개념

#### Near Realtime(NRT)

- Elasticsearch는 거의 실시간 검색 플랫폼
- 문서를 색인할 때부터 검색 가능할 때까지 약간의 대기 시간(일반적으로 1초)이 매우 짧음


#### 클러스터 (Cluster)

- 전체 데이터를 함께 보유하고 모든 노드에서 연합 인덱싱 및 검색 기능을 제공하는 하나 이상의 노드 (서버) 모음
- 클러스터는 기본적으로 "elasticsearch"라는 고유한 이름으로 식별
- 이 이름은 노드가 이름으로 클러스터에 참여하도록 설정된 경우 노드가 클러스터의 일부일 수 있기 때문에 중요


#### 노드(Node)

- 노드는 클러스터의 일부이며 데이터를 저장하고 클러스터의 인덱싱 및 검색 기능에 참여하는 단일 서버임
- 단일 클러스터에서 원하는 만큼 노드를 소유 가능
- 현재 네트워크에서 실행 중인 다른 Elasticsearch 노드가 없는 경우 단일 노드를 시작하면 기본적으로 elasticsearch라는 새로운 단일 노드 클러스터가 형성


#### 색인 (Index)

- 색인은 다소 유사한 특성을 갖는 문서의 콜렉션
- 예를 들어 고객 데이터에 대한 색인, 제품 카탈로그에 대한 또다른 색인 및 주문 데이터에 대한 또 다른 색인을 가질 수 있음
- 색인은 이름(모두 소문자여야함)으로 식별되며 이 이름은 색인된 문서를 색인 작성, 검색, 갱신 및 삭제할 때 색인을 참조하는데 사용


#### 타입 (Type)

- 사용자가 하나의 유형, 블로그 게시물을 다른 유형과 같이 여러 Type의 문서를 동일한 색인에 저장할 수 있도록 색인의 논리적 범주 / 파티션으로 사용되는 유형
- 더 이상 인덱스에 여러 유형을 작성할 수 없으며 이후 버전에서는 Type의 전체 개념이 제거됨


### Documents

- 문서는 색인을 생성할 수 있는 기본 정보 단위
- 예를 들어, 단일 고객에 대한 문서, 단일 제품에 대한 다른 문서 및 단일 주문에 대한 문서를 보유
- JSON(JavaScript Object Notation)으로 표현


### RESTFul API

- URI를 사용한 동작이 가능
- HTTP 프로토콜로 JSON 문서의 입출력과 다양한 제어
- JSON 문서의 입출력과 다양한 제어 



