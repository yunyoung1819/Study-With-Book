# :book: 엘라스틱서치 쿡북

###### 엘라스틱서치 쿡북을 읽고 그 내용을 요약한 글 입니다. 상세 내용은 책을 참조해주세요.

---------------------------------------------------------------------------

## :pushpin: 4장. 기본 작업

### 색인 생성

- 일래스틱서치에서 데이터를 색인하기 전 첫 작업은 데이터의 주 컨테이너라고 할 수 있는 색인을 만드는 것이다.
- 색인은 SQL에서 데이터베이스 개념
- 타입(SQL에서 테이블)과 도큐먼트(SQL에서 레코드)를 위한 컨테이너다.
- 색인 생성을 위한 HTTP 메소드는 PUT(POST 역시 동작한다)이고, REST URL은 색인 이름을 포함한다.

````
http://<서버>/<색인_이름>
````

- 색인을 작성할 때 복제는 settings/index 객체에서 다음 두 파라미터로 설정할 수 있다.
    - number_of_shards: 색인을 작성하는 샤드 개수를 제어한다.
    - number_of_replicas: 복제 개수를 제어한다. 이 값은 1 이상으로 설정하는 것이 좋다.
- 색인 생성 API는 생성 시간에 매핑을 정의할 수 있다.
- 매핑을 정의하는데 필요한 파라미터가 mappings이고, 다중 매핑을 허용한다.
- 색인 이름에는 몇 가지 제약 사항이 있는데, 허용 문자는 다음과 같다.
    - 아스키 문자 [a-z]
    - 숫자 [0-9]
    - 마침표., 마이너스 -, &, _


### 색인 삭제

- 색인 삭제는 색인의 샤드, 매핑, 데이터를 삭제한다.
- 색인 삭제를 위한 HTTP 메소드는 DELETE다.
````
http://<서버>/<색인_이름>
````