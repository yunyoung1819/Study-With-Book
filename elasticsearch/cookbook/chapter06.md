# :book: 엘라스틱서치 쿡북

###### 엘라스틱서치 쿡북을 읽고 그 내용을 요약한 글 입니다. 상세 내용은 책을 참조해주세요.

---------------------------------------------------------------------------

## :pushpin: 6장. 텍스트 및 수치형 쿼리

### term 쿼리 사용
- 매우 빈번하게 특정 텀을 검색하거나 필터링한다.
- term 쿼리는 SQL 세계에서 등호 '=' 쿼리와 비교될 수 있다.


### terms 쿼리 사용
- 다중 텀으로 검색하려면 불리언 쿼리나 다중 텀 쿼리를 사용하는 방식으로 처리할 수 있다. 


### prefix 쿼리 사용
- prefix 쿼리는 텀의 시작 부분만 알고 있을 때 사용한다.


### wildcard 쿼리 사용
- wildcard 쿼리는 텀 일부분을 알고 있을 때 사용한다.
- 종종 시스템 셸에서 파일에 대한 명령(즉 ls*.jpg 같은)에 사용하는 방식으로 잘 알려져 있다. 
- wildcard는 정규 표현식과 매우 유사하지만, 두 개의 특수문자만 제공한다.
    *: 0개 이상 문자가 매치된다는 의미이다. 
    ?: 한 개의 문자가 매치된다는 의미이다. 
    
### regexp 쿼리 사용
- regexp 쿼리는 도큐먼트 전체 텀에 대해 정규 표현식을 실행한다. 

### query_string 쿼리 사용
- 쿼리 문자열 쿼리는 필드 규칙을 혼합해 복잡한 쿼리를 정의할 수 있는 특수한 쿼리 유형이다. 

### ranger 쿼리 사용 
- 대부분 애플리케이션에서 값 범위로 검색하는 것은 매우 일반적이다.
    - 숫자 값 범위로 필터링 (즉 가격, 크기, 나이)
    - 날짜로 필터링 (03/07/12는 03/07/12 00:00:00에서 03/07/12 24:59:59까지 범위 쿼리가 될 수 있다)
    - 텀 범위로 필터링(즉 A부터 D까지)
    
### exists 쿼리 사용
- exists: 도큐먼트에 필드가 있는지 확인하기 위해 사용
- missing: 필드가 없는지 확인하기 위해 사용

### template 쿼리 사용
- 일래스틱서치는 템플릿과 이를 채울 수 있는 파라미터를 제공
- 서버의 파일 시스템이나 .scripts 색인에 저장된 쿼리 템플릿을 관리할 수 있음
- 검색 쿼리를 호출하면 템플릿을 로드하고, 파라미터 데이터로 채우고 일반 쿼리처럼 실행한다.
- template 쿼리는 서로 다른 값으로 같은 쿼리를 사용하는 손쉬운 방법이다. 
